<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <link rel="shortcut icon" href="#">
    <title>interfer</title>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400&amp;display=swap" rel="stylesheet">
    <script id="hash-snippet">
        let search = new URLSearchParams(window.location.search);
        let q = search.get("hash");
        let p = JSON.parse(q ? atob(q) : "{}");
        let hash = p.hash || (Math.random() + 1).toString(16).substring(2);
        let editionNumber = p.editionNumber || 0;
        let aaspect = p.aspect || Math.round(3/4*10000)/10000;
        let vversion = p.version || 0;

        console.log(btoa(JSON.stringify({"hash": hash})).toString('base64'));

        const print = console.log;

        let Random=function(n){var r,$,t,u,_=function n(r){for(var $=0,t=1779033703^r.length;$<r.length;$++)t=(t=Math.imul(t^r.charCodeAt($),3432918353))<<13|t>>>19;return function(){return t=Math.imul((t=Math.imul(t^t>>>16,2246822507))^t>>>13,3266489909),(t^=t>>>16)>>>0}}(n),o={rand:(r=_(),$=_(),t=_(),u=_(),function(){t|=0;var n=((r|=0)+($|=0)|0)+(u|=0)|0;return u=u+1|0,r=$^$>>>9,$=t+(t<<3)|0,t=(t=t<<21|t>>>11)+n|0,(n>>>0)/4294967296}),randInt:function(n,r){return n+Math.floor((r-n)*o.rand())}};return o};
        let prng = Random(hash);
        let random = prng.rand;

        function capturePreview() {
            dispatchEvent(new Event("capture-preview"));
        }

        // function updateURLParameter(key, value) {
        //     const url = new URL(window.location.href);
        //     const searchParams = new URLSearchParams(url.search);
        
        //     searchParams.set(key, value);
            
        //     // Update the URL without refreshing the page
        //     window.history.pushState({}, '', `${url.pathname}?${searchParams.toString()}`);
        // }

    </script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            background-color: #131313;
        }

        canvas {
            display: block;
        }

        #overlay {
            position: absolute;
            top: 50px;
            left: 50px;
            font-size: 15px;
            font-family: 'Courier Prime', monospace;
            color: black;
            user-select: none; /* make it non-selectable */
        }
    </style>
</head>

<body>
    <canvas id="debugcanvas"></canvas>
    <canvas id="canvas"></canvas>
    <script type="module" src="./sketch.js"></script>
</body>

</html>
